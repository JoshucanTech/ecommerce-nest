model Vendor {
  id               String              @id @default(uuid())
  userId           String              @unique
  businessName     String
  businessEmail    String              @unique
  businessPhone    String
  businessLogo     String?
  description      String?
  isVerified       Boolean             @default(false)
  rating           Float               @default(0)
  totalRatings     Int                 @default(0)
  commissionRate   Float               @default(10)
  slug             String              @unique
  status           ApplicationStatus   @default(PENDING)
  createdAt        DateTime            @default(now())
  updatedAt        DateTime            @updatedAt
  balance          Float               @default(0)
  bankInfo         Json?
  coverImage       String?
  isActive         Boolean             @default(true)
  socialMedia      Json?
  website          String?
  userInteractions AdUserInteraction[]
  advertisements   Advertisement[]
  coupons          Coupon[]
  flashSales       FlashSale[]
  inventory        Inventory[]
  OrderShipping    OrderShipping[]
  orders           Order[]             @relation("VendorOrders")
  products         Product[]
  ShippingPolicy   ShippingPolicy[]
  businessAddress  VendorAddress[]
  VendorShipping   VendorShipping[]
  user             User                @relation(fields: [userId], references: [id], onDelete: Cascade)
  Shipping         Shipping[]          @relation("ShippingToVendor")

  @@map("vendors")
}

model VendorApplication {
  id              String            @id @default(uuid())
  userId          String            @unique
  businessName    String
  businessEmail   String            @unique
  businessPhone   String
  businessLogo    String?
  description     String?
  status          ApplicationStatus @default(PENDING)
  notes           String?
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  reviewedAt      DateTime?
  reviewedBy      String?
  website         String?
  documents       Json?
  User            User[]
  businessAddress VendorAddress[]

  @@map("vendor_applications")
}

model VendorAddress {
  id                  String             @id @default(uuid())
  street              String
  city                String
  state               String
  postalCode          String
  country             String
  isDefault           Boolean            @default(false)
  createdAt           DateTime           @default(now())
  updatedAt           DateTime           @updatedAt
  vendorId            String?
  vendorApplicationId String?
  latitude            Float?
  longitude           Float?
  nickname            String?
  VendorApplication   VendorApplication? @relation(fields: [vendorApplicationId], references: [id])
  Vendor              Vendor?            @relation(fields: [vendorId], references: [id])

  @@map("vendor_addresses")
}

enum ApplicationStatus {
  PENDING
  APPROVED
  REJECTED
}
